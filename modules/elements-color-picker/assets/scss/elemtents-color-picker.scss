
.e-element {

	&-color-picker {
		--swatch-size: 27px;
		display: flex;
		position: absolute;
		width: calc( var( --count ) * var( --swatch-size ) );
		height: var( --swatch-size );
		top: 3px;
		left: 3px;
		border-radius: 3px;
		opacity: 0;
		pointer-events: none;
		z-index: 1000;
		border: 2px solid #FFF;
		transition: opacity .3s, left .05s, top .05s, width .3s;

		&[data-count='1']:hover {
			width: calc( 2 * var( --swatch-size ) );
		}

		&__swatch{
			flex: 1 1 var( --swatch-size );
			max-width: 100%;
			height: 100%;
			cursor: pointer;
			transition: $transition-hover;
			position: relative;
			overflow: hidden;
			background-color: var( --color );

			&::before {
				content: attr( data-color );
				position: absolute;
				left: 50%;
				top: 50%;
				opacity: 0;
				color: var( --color );
				font-size: 10px;
				font-family: $admin-font-family;
				transform: translate( -50%, -50% );
				filter: hue-rotate( 180deg ) grayscale( 1 ) contrast( 999 ) invert( 1 );
				transition: inherit;
			}

			&:hover {
				flex-basis: calc( 2 * var( --swatch-size ) );
				flex-shrink: 0;

				&::before {
					opacity: 1;
				}
			}
		}
	}
}

.elementor-editor__ui-state__color-picker {
	.e-element-color-picker:hover,
	.elementor-widget-container:hover + .e-element-color-picker {
		opacity: 1;
		pointer-events: all;
	}
}
